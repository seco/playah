!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.playah=t()}}(function(){return function t(e,i,n){function o(r,d){if(!i[r]){if(!e[r]){var h="function"==typeof require&&require;if(!d&&h)return h(r,!0);if(s)return s(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var a=i[r]={exports:{}};e[r][0].call(a.exports,function(t){var i=e[r][1][t];return o(i?i:t)},a,a.exports,t,e,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(t,e,i){"use strict";function n(t,e){var i=Object.create(n.defaults),o=t||{};for(var s in i)o.hasOwnProperty(s)||(o[s]=i[s]);this.config=o,this.isRunning=!1,this.isLoading=!0,this.then=null,this.video=document.createElement("video"),this.context=document.createElement("canvas").getContext("2d"),this.needsFix=/iPad|iPhone|iPod/.test(navigator.platform),this.avoidFix=!this.needsFix,this.ready=function(t){return this.config.onReady=t||this.config.onReady,this},this.ended=function(t){return this.config.onEnded=t||this.config.onEnded,this};var r=document.createElement("source");r.type="video/mp4",r.src=this.config.src,this.video.appendChild(r),this.video.setAttribute("preload","auto"),this.video.addEventListener("loadstart",function d(t){try{this.video.currentTime=this.config.startTime}catch(e){return void this.video.removeEventListener("loadstart",d,!1)}this.config.autoStart&&this.toggle(),this.config.onReady()}.bind(this),!1),this.video.addEventListener("loadeddata",function(t){this.isLoading=!1}.bind(this),!1),this.video.addEventListener("ended",function(t){this.isRunning=!1,this.config.loop&&this.toggle(),this.config.onEnded()}.bind(this),!1),e&&"canvas"===e.nodeName.toLowerCase()&&(this.context=e.getContext("2d")),this.needsFix&&(this.video.muted="muted",this.video.load())}n.prototype={constructor:n,update:function(){if(this.needsFix){var t=(new Date).getTime(),e=t-(this.then||t);this.isRunning&&(this.video.currentTime+=.001*e,this.video.currentTime>=this.video.duration&&(this.video.currentTime=0,this.isRunning=!1)),this.then=t}return this},render:function(){return this.isRunning&&this.context.drawImage(this.video,0,0),this},toggle:function(){return this.avoidFix&&(this.isRunning?this.video.pause():this.video.play()),this.isRunning=!this.isRunning,this}},n.defaults={src:"",loop:!0,startTime:0,autoStart:!1,onReady:function(){},onEnded:function(){}},e.exports=n},{}]},{},[1])(1)});